"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6434],{30174:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>p,default:()=>c,frontMatter:()=>s,metadata:()=>d,toc:()=>h});var o=t(25773),a=(t(27378),t(35318)),l=t(77515),r=t(67994),i=t(88401);const s={title:"Phone",description:"The Phone is formed by selecting a country and a field to fill in the phone number."},p=void 0,d={unversionedId:"components/phone",id:"components/phone",title:"Phone",description:"The Phone is formed by selecting a country and a field to fill in the phone number.",source:"@site/examples/components/phone.md",sourceDirName:"components",slug:"/components/phone",permalink:"/tangram-rebranding/en/examples/components/phone",draft:!1,tags:[],version:"current",frontMatter:{title:"Phone",description:"The Phone is formed by selecting a country and a field to fill in the phone number."},sidebar:"mySidebar",previous:{title:"Input",permalink:"/tangram-rebranding/en/examples/components/input"},next:{title:"Radio",permalink:"/tangram-rebranding/en/examples/components/radio"}},u={},h=[{value:"Base",id:"base",level:2},{value:"Initially selected country",id:"initially-selected-country",level:2},{value:"Based on phone number",id:"initially-selected-country-phone-number",level:3},{value:"Based on <code>defaultCountry</code> property value",id:"initially-selected-country-defaultcountry-property-value",level:3},{value:"Based on the default browser language",id:"initially-selected-country-the-default-browser-language",level:3},{value:"Adaptable masks",id:"adaptable-masks",level:2},{value:"Uncontrolled vs. Controlled",id:"uncontrolled-vs-controlled",level:2},{value:"Form events",id:"form-events",level:2},{value:"Error feedback and validations",id:"feedback-validations",level:2},{value:"Integration with <code>Form.Control</code>",id:"feedback-validation-with-formcontrol",level:3},{value:"Validating the phone number",id:"feedback-validation-phone-number",level:3},{value:"React Hook Form",id:"react-hook-form",level:2},{value:"Internationalization",id:"internationalization",level:2},{value:"Feedback",id:"feedback",level:2}],m={toc:h};function c(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,o.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)(l.Z,{current:"examples",name:"phone",mdxType:"ComponentTab"}),(0,a.kt)("h2",{id:"base"},"Base"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"<Phone />\n")),(0,a.kt)("h2",{id:"initially-selected-country"},"Initially selected country"),(0,a.kt)("h3",{id:"initially-selected-country-phone-number"},"Based on phone number"),(0,a.kt)("admonition",{type:"warning"},(0,a.kt)("p",{parentName:"admonition"},"The initial value of the ",(0,a.kt)("inlineCode",{parentName:"p"},"value")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"defaultValue")," properties must start with the character ",(0,a.kt)("inlineCode",{parentName:"p"},"+"),", followed by the country code.")),(0,a.kt)("p",null,"The country initially selected will be identified mainly by the telephone number passed to the ",(0,a.kt)("inlineCode",{parentName:"p"},"value")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"defaultValue")," properties, during component initialization."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'<Phone defaultValue="+16045555555" />\n')),(0,a.kt)("p",null,"The absence of any of this information may prevent the component from automatically identifying the country, causing an alert to be displayed, as in the example below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'<Phone defaultValue="99999999" />\n')),(0,a.kt)("h3",{id:"initially-selected-country-defaultcountry-property-value"},"Based on ",(0,a.kt)("inlineCode",{parentName:"h3"},"defaultCountry")," property value"),(0,a.kt)("p",null,"It is also possible to indicate the selected country via the ",(0,a.kt)("inlineCode",{parentName:"p"},"defaultCountry")," property, entering the country code in two-digit ISO format."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'<Phone defaultCountry="AR" />\n')),(0,a.kt)("h3",{id:"initially-selected-country-the-default-browser-language"},"Based on the default browser language"),(0,a.kt)("p",null,"If no value is passed to the ",(0,a.kt)("inlineCode",{parentName:"p"},"value"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"defaultValue")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"defaultCountry")," properties, the selected country will be automatically identified based on the default language of the user's browser."),(0,a.kt)("h2",{id:"adaptable-masks"},"Adaptable masks"),(0,a.kt)("p",null,"When entering the phone number, the ",(0,a.kt)("inlineCode",{parentName:"p"},"Phone")," component automatically adjusts the mask to the proper format - when the selected country has more than one applicable format."),(0,a.kt)("p",null,"As is the case in Brazil, which has a format for landlines (",(0,a.kt)("inlineCode",{parentName:"p"},"(99) 9999-9999"),") and another for mobile numbers (",(0,a.kt)("inlineCode",{parentName:"p"},"(99) 99999-9999"),")."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'<Phone defaultCountry="BR" />\n')),(0,a.kt)("h2",{id:"uncontrolled-vs-controlled"},"Uncontrolled vs. Controlled"),(0,a.kt)("p",null,"Unlike other form components, ",(0,a.kt)("inlineCode",{parentName:"p"},"Phone")," ",(0,a.kt)("strong",{parentName:"p"},"does not support a controlled version"),"."),(0,a.kt)("p",null,"Enabling this type of control would conflict with the existence of masks for phone formats in different countries."),(0,a.kt)("p",null,"For this reason, the ",(0,a.kt)("inlineCode",{parentName:"p"},"value")," property is just an alias for the ",(0,a.kt)("inlineCode",{parentName:"p"},"defaultValue")," property and exists to maintain consistency with other form components."),(0,a.kt)("p",null,"See in the example below how the ",(0,a.kt)("inlineCode",{parentName:"p"},"Phone")," component can be used simulating a controlled behavior in a real scenario."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function ExampleControlled() {\n  const [value, setValue] = useState('');\n\n  return (\n    <Form.Control>\n      <Phone\n        value={value}\n        onChange={(_, phone) => setValue(phone)}\n        onClear={() => setValue('')}\n        aria-describedby={!!value && 'phone-feedback'}\n      />\n\n      <Form.Feedback id=\"phone-feedback\">{value}</Form.Feedback>\n    </Form.Control>\n  );\n}\n")),(0,a.kt)("h2",{id:"form-events"},"Form events"),(0,a.kt)("p",null,"All key component interaction events (",(0,a.kt)("inlineCode",{parentName:"p"},"onChange"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"onClear"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"onBlur")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"onFocus"),") expect callbacks that support the same types of parameters, in order:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"The object for the triggered event"),(0,a.kt)("li",{parentName:"ol"},"The value of the field without the mask and with the country code"),(0,a.kt)("li",{parentName:"ol"},"General information about the status of the component, such as selected country, validity of the entered value, among others")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"<Phone\n  onChange={(...args) => console.log('onChange', args)}\n  onClear={(...args) => console.log('onClear', args)}\n  onBlur={(...args) => console.log('onBlur', args)}\n  onFocus={(...args) => console.log('onFocus', args)}\n/>\n")),(0,a.kt)("admonition",{type:"warning"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"Do not use the ",(0,a.kt)("inlineCode",{parentName:"strong"},"target.value")," property"),", coming from the event object, to change the state of the form. This argument receives the field value as present in the input, that is, with a mask and without the country code.")),(0,a.kt)("p",null,"The second argument is more suitable for changing the state of the form, as its value corresponds to the phone number entered, without a mask and with the country code. Therefore, it is in the proper format to input the ",(0,a.kt)("inlineCode",{parentName:"p"},"value")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"defaultValue")," properties and to be stored in databases."),(0,a.kt)("p",null,"For more details go to our ",(0,a.kt)(i.Z,{href:"../../../code/components/phone",mdxType:"Link"},"Component API")," tab."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function ExampleFormEvents() {\n  const [phone, setPhone] = useState('');\n  const [targetValue, setTargetValue] = useState('');\n\n  return (\n    <Form>\n      <Form.Control>\n        <Phone\n          value={phone}\n          style={{ width: '100%' }}\n          onChange={(event, phone) => {\n            setTargetValue(event.target.value);\n            setPhone(phone);\n          }}\n          onClear={() => {\n            setTargetValue('');\n            setPhone('');\n          }}\n        />\n      </Form.Control>\n\n      {/*\n       ** Shows the difference between the `target.value` property of the first argument\n       ** and the value of the second argument of the callback\n       ** passed to `onChange`\n       */}\n      <Form.Control>\n        <Input\n          disabled\n          prefix={<Tag>event.target.value</Tag>}\n          value={targetValue}\n        />\n      </Form.Control>\n\n      <Form.Control>\n        <Input disabled prefix={<Tag>phone</Tag>} value={phone} />\n      </Form.Control>\n    </Form>\n  );\n}\n")),(0,a.kt)("h2",{id:"feedback-validations"},"Error feedback and validations"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"error")," property allows displaying the component as invalid."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"<Phone error />\n")),(0,a.kt)("h3",{id:"feedback-validation-with-formcontrol"},"Integration with ",(0,a.kt)("inlineCode",{parentName:"h3"},"Form.Control")),(0,a.kt)("p",null,"As with other form components, the ",(0,a.kt)("inlineCode",{parentName:"p"},"Phone")," component is integrated with the ",(0,a.kt)("inlineCode",{parentName:"p"},"Form.Control")," component and receives the ",(0,a.kt)("inlineCode",{parentName:"p"},"error")," property automatically through this integration."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"<Form.Control error>\n  <Phone />\n</Form.Control>\n")),(0,a.kt)("h3",{id:"feedback-validation-phone-number"},"Validating the phone number"),(0,a.kt)("p",null,"The validation of the entered number can be checked in each of the ",(0,a.kt)(i.Z,{href:"#form-events",mdxType:"Link"},"events mentioned above"),", through the ",(0,a.kt)("inlineCode",{parentName:"p"},"valid")," attribute, present in the object with additional information. This information can be used to validate the phone number entered by the user."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function ExampleValidationPhoneNumber() {\n  const [phone, setPhone] = useState('');\n  const [error, setError] = useState(false);\n\n  return (\n    <Form.Control error={error}>\n      <Form.Label htmlFor=\"phone\">Phone</Form.Label>\n\n      <Phone\n        id=\"phone\"\n        value={phone}\n        aria-describedby={error && 'phone-feedback'}\n        onChange={(_, phone) => setPhone(phone)}\n        onClear={() => {\n          setPhone('');\n          setError(false);\n        }}\n        onBlur={(_, phone, { valid }) => setError(phone && !valid)}\n      />\n\n      {error && <Form.Feedback id=\"phone-feedback\">Invalid</Form.Feedback>}\n    </Form.Control>\n  );\n}\n")),(0,a.kt)("h2",{id:"react-hook-form"},"React Hook Form"),(0,a.kt)("p",null,"Use the ",(0,a.kt)("inlineCode",{parentName:"p"},"Phone")," component together with the ",(0,a.kt)(i.Z,{href:"https://react-hook-form.com/",mdxType:"Link"},"React Hook Form"),". To do this, install this dependency in the project."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add react-hook-form\n")),(0,a.kt)("p",null,"See and test the full example below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"function ExampleWithReactHookForm() {\n  const { control, watch } = useForm();\n  const name = 'phone';\n\n  return (\n    <Form.Control>\n      <Controller\n        control={control}\n        name={name}\n        defaultValue={null}\n        render={({ onChange }) => (\n          <Phone\n            id={name}\n            name={name}\n            onClear={() => onChange('')}\n            onChange={(_, phone) => onChange(phone)}\n          />\n        )}\n      />\n\n      <Form.Feedback>{watch(name)}</Form.Feedback>\n    </Form.Control>\n  );\n}\n")),(0,a.kt)("h2",{id:"internationalization"},"Internationalization"),(0,a.kt)("p",null,"It is possible to pass custom values for the different texts used internally by the component. Are they:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"countryNames"),": Custom country names"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"countryCallingCodeLabelText"),": Custom text to label the country code. This text is not displayed but is useful for accessibility"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"selectedCountryLabelText"),": Custom text to label the country selection. This text is not displayed but is useful for accessibility"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"clearLabelText"),": Custom text to label the clear button. This text is not displayed but is useful for accessibility"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"unidentifiedCountryTooltip"),": Custom text for the ",(0,a.kt)("inlineCode",{parentName:"li"},"Tooltip"),", displayed when the country has not been properly identified (see section ",(0,a.kt)(i.Z,{href:"#initially-selected-country",mdxType:"Link"},"Initially selected country"),")")),(0,a.kt)("admonition",{type:"warning"},(0,a.kt)("p",{parentName:"admonition"},"When changing the component's default language (English), values must be set for all available constants.")),(0,a.kt)("p",null,"To help with this process, constants are available with default values for these properties - in English, Portuguese and Spanish. For more details go to our ",(0,a.kt)(i.Z,{href:"../../../code/components/phone",mdxType:"Link"},"Component API")," tab."),(0,a.kt)("p",null,"Below is an example of using these constants for Portuguese:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"<Phone\n  countryNames={Phone.translations.ptBR.countryNames}\n  countryCallingCodeLabelText={Phone.translations.ptBR.countryCallingCode}\n  selectedCountryLabelText={Phone.translations.ptBR.selectedCountry}\n  clearLabelText={Phone.translations.ptBR.clear}\n  unidentifiedCountryTooltip={Phone.translations.ptBR.unidentifiedCountry}\n/>\n")),(0,a.kt)("h2",{id:"feedback"},"Feedback"),(0,a.kt)(r.Z,{mdxType:"FeedbackBlock"}))}c.isMDXComponent=!0},88401:(e,n,t)=>{t.d(n,{Z:()=>i});var o=t(25773),a=t(27378),l=t(81884),r=t(59536);function i(e){let{children:n,...t}=e;return a.createElement(r.Z,(0,o.Z)({as:l.Z},t),n)}}}]);