"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2867],{92695:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>m,contentTitle:()=>s,default:()=>k,frontMatter:()=>d,metadata:()=>p,toc:()=>u});var n=a(25773),t=(a(27378),a(35318)),r=a(77515),l=a(67994),i=a(88401);const d={title:"Phone",description:"O Phone \xe9 formado pela sele\xe7\xe3o de um pa\xeds e um campo para preenchimento do n\xfamero do telefone."},s=void 0,p={unversionedId:"components/phone",id:"components/phone",title:"Phone",description:"O Phone \xe9 formado pela sele\xe7\xe3o de um pa\xeds e um campo para preenchimento do n\xfamero do telefone.",source:"@site/i18n/pt-BR/docusaurus-plugin-content-docs-examples/current/components/phone.md",sourceDirName:"components",slug:"/components/phone",permalink:"/tangram-rebranding/examples/components/phone",draft:!1,tags:[],version:"current",frontMatter:{title:"Phone",description:"O Phone \xe9 formado pela sele\xe7\xe3o de um pa\xeds e um campo para preenchimento do n\xfamero do telefone."},sidebar:"mySidebar",previous:{title:"Input",permalink:"/tangram-rebranding/examples/components/input"},next:{title:"Radio",permalink:"/tangram-rebranding/examples/components/radio"}},m={},u=[{value:"Base",id:"base",level:2},{value:"Pa\xeds inicialmente selecionado",id:"initially-selected-country",level:2},{value:"Baseado no n\xfamero do telefone",id:"initially-selected-country-phone-number",level:3},{value:"Baseado no valor da propriedade <code>defaultCountry</code>",id:"initially-selected-country-defaultcountry-property-value",level:3},{value:"Baseado no idioma padr\xe3o do navegador",id:"initially-selected-country-default-browser-language",level:3},{value:"M\xe1scaras adapt\xe1veis",id:"adaptable-masks",level:2},{value:"N\xe3o controlado vs. Controlado",id:"uncontrolled-vs-controlled",level:2},{value:"Eventos de formul\xe1rio",id:"form-events",level:2},{value:"Erros e valida\xe7\xf5es",id:"feedback-validation",level:2},{value:"Integra\xe7\xe3o com <code>Form.Control</code>",id:"feedback-validation-with-formcontrol",level:3},{value:"Validando o n\xfamero de telefone",id:"feedback-validation-phone-number",level:3},{value:"React Hook Form",id:"react-hook-form",level:2},{value:"Internacionaliza\xe7\xe3o",id:"internationalization",level:2},{value:"Feedback",id:"feedback",level:2}],c={toc:u};function k(e){let{components:o,...a}=e;return(0,t.kt)("wrapper",(0,n.Z)({},c,a,{components:o,mdxType:"MDXLayout"}),(0,t.kt)(r.Z,{current:"examples",name:"phone",mdxType:"ComponentTab"}),(0,t.kt)("h2",{id:"base"},"Base"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"<Phone />\n")),(0,t.kt)("h2",{id:"initially-selected-country"},"Pa\xeds inicialmente selecionado"),(0,t.kt)("h3",{id:"initially-selected-country-phone-number"},"Baseado no n\xfamero do telefone"),(0,t.kt)("admonition",{title:"Aten\xe7\xe3o!",type:"warning"},(0,t.kt)("p",{parentName:"admonition"},"O valor inicial das propriedades ",(0,t.kt)("inlineCode",{parentName:"p"},"value")," ou ",(0,t.kt)("inlineCode",{parentName:"p"},"defaultValue")," deve, obrigatoriamente, come\xe7ar com o caractere ",(0,t.kt)("inlineCode",{parentName:"p"},"+"),", seguido pelo c\xf3digo do pa\xeds.")),(0,t.kt)("p",null,"O pa\xeds inicialmente selecionado ser\xe1 identificado, principalmente, pelo n\xfamero de telefone passado para as propriedades ",(0,t.kt)("inlineCode",{parentName:"p"},"value")," ou ",(0,t.kt)("inlineCode",{parentName:"p"},"defaultValue"),", durante a inicializa\xe7\xe3o do componente."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'<Phone defaultValue="+16045555555" />\n')),(0,t.kt)("p",null,"A aus\xeancia de uma dessas informa\xe7\xf5es pode impedir o componente de identificar automaticamente o pa\xeds, provocando a exibi\xe7\xe3o de um alerta, como no exemplo abaixo:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'<Phone defaultValue="99999999" />\n')),(0,t.kt)("h3",{id:"initially-selected-country-defaultcountry-property-value"},"Baseado no valor da propriedade ",(0,t.kt)("inlineCode",{parentName:"h3"},"defaultCountry")),(0,t.kt)("p",null,"Tamb\xe9m \xe9 poss\xedvel indicar o pa\xeds selecionado atrav\xe9s da propriedade ",(0,t.kt)("inlineCode",{parentName:"p"},"defaultCountry"),", inserindo o c\xf3digo do pa\xeds no formato ISO de dois d\xedgitos."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'<Phone defaultCountry="AR" />\n')),(0,t.kt)("h3",{id:"initially-selected-country-default-browser-language"},"Baseado no idioma padr\xe3o do navegador"),(0,t.kt)("p",null,"Caso nenhum valor seja passado para as propriedades ",(0,t.kt)("inlineCode",{parentName:"p"},"value"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"defaultValue")," ou ",(0,t.kt)("inlineCode",{parentName:"p"},"defaultCountry"),", o pa\xeds selecionado ser\xe1 identificado automaticamente com base no idioma padr\xe3o do navegador da pessoa usu\xe1ria."),(0,t.kt)("h2",{id:"adaptable-masks"},"M\xe1scaras adapt\xe1veis"),(0,t.kt)("p",null,"Durante a digita\xe7\xe3o do n\xfamero do telefone, o componente ",(0,t.kt)("inlineCode",{parentName:"p"},"Phone")," automaticamente ajusta a m\xe1scara para o formato adequado - quando o pa\xeds selecionado tiver mais de um formato aplic\xe1vel."),(0,t.kt)("p",null,"Como \xe9 o caso do Brasil, que possui que possui um formato para telefones fixos (",(0,t.kt)("inlineCode",{parentName:"p"},"(99) 9999-9999"),") e outro para n\xfameros de celular (",(0,t.kt)("inlineCode",{parentName:"p"},"(99) 99999-9999"),")."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'<Phone defaultCountry="BR" />\n')),(0,t.kt)("h2",{id:"uncontrolled-vs-controlled"},"N\xe3o controlado vs. Controlado"),(0,t.kt)("p",null,"Diferente de outros componentes de formul\xe1rio, o ",(0,t.kt)("inlineCode",{parentName:"p"},"Phone")," ",(0,t.kt)("strong",{parentName:"p"},"n\xe3o suporta uma vers\xe3o controlada"),"."),(0,t.kt)("p",null,"Habilitar este tipo de controle conflitaria com a exist\xeancia de m\xe1scaras para os formatos de telefone de diferentes pa\xedses."),(0,t.kt)("p",null,"Por esta raz\xe3o, a propriedade ",(0,t.kt)("inlineCode",{parentName:"p"},"value")," \xe9 apenas um alias para a propriedade ",(0,t.kt)("inlineCode",{parentName:"p"},"defaultValue")," e existe para manter a consist\xeancia com os demais componentes de formul\xe1rio."),(0,t.kt)("p",null,"Veja no exemplo abaixo como o componente ",(0,t.kt)("inlineCode",{parentName:"p"},"Phone")," pode ser usado simulando um comportamento controlado em um cen\xe1rio real."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function ExampleControlled() {\n  const [value, setValue] = useState('');\n\n  return (\n    <Form.Control>\n      <Phone\n        value={value}\n        onChange={(_, phone) => setValue(phone)}\n        onClear={() => setValue('')}\n        aria-describedby={!!value && 'phone-feedback'}\n      />\n\n      <Form.Feedback id=\"phone-feedback\">{value}</Form.Feedback>\n    </Form.Control>\n  );\n}\n")),(0,t.kt)("h2",{id:"form-events"},"Eventos de formul\xe1rio"),(0,t.kt)("p",null,"Todos os eventos-chave de intera\xe7\xe3o com o componente (",(0,t.kt)("inlineCode",{parentName:"p"},"onChange"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"onClear"),", ",(0,t.kt)("inlineCode",{parentName:"p"},"onBlur")," e ",(0,t.kt)("inlineCode",{parentName:"p"},"onFocus"),") esperam callbacks que suportem os mesmos tipos de par\xe2metros, em ordem:"),(0,t.kt)("ol",null,(0,t.kt)("li",{parentName:"ol"},"O objeto para o evento disparado"),(0,t.kt)("li",{parentName:"ol"},"O valor do campo sem a m\xe1scara e com o c\xf3digo do pa\xeds"),(0,t.kt)("li",{parentName:"ol"},"Informa\xe7\xf5es gerais sobre o estado do componente, como pa\xeds selecionado, validade do valor inserido, entre outros")),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"<Phone\n  onChange={(...args) => console.log('onChange', args)}\n  onClear={(...args) => console.log('onClear', args)}\n  onBlur={(...args) => console.log('onBlur', args)}\n  onFocus={(...args) => console.log('onFocus', args)}\n/>\n")),(0,t.kt)("admonition",{title:"Aten\xe7\xe3o",type:"warning"},(0,t.kt)("p",{parentName:"admonition"},(0,t.kt)("strong",{parentName:"p"},"N\xe3o use a propriedade")," ",(0,t.kt)("inlineCode",{parentName:"p"},"target.value"),", proveniente do objeto do evento, para alterar o estado do formul\xe1rio. Este argumento recebe o valor do campo como presente no input, ou seja, com m\xe1scara e sem o c\xf3digo do pa\xeds.")),(0,t.kt)("p",null,"O segundo argumento \xe9 mais adequado para alterar o estado do formul\xe1rio, j\xe1 que seu valor corresponde ao n\xfamero de telefone digitado, sem m\xe1scara e com o c\xf3digo do pa\xeds. Portanto, est\xe1 no formato adequado para servir de entrada as propriedades ",(0,t.kt)("inlineCode",{parentName:"p"},"value")," e ",(0,t.kt)("inlineCode",{parentName:"p"},"defaultValue")," e para ser armazenado em bancos de dados."),(0,t.kt)("p",null,"Para mais detalhes acesse nossa aba de ",(0,t.kt)(i.Z,{href:"../../../code/components/phone",mdxType:"Link"},"API do componente"),"."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function ExampleFormEvents() {\n  const [phone, setPhone] = useState('');\n  const [targetValue, setTargetValue] = useState('');\n\n  return (\n    <Form>\n      <Form.Control>\n        <Phone\n          value={phone}\n          style={{ width: '100%' }}\n          onChange={(event, phone) => {\n            setTargetValue(event.target.value);\n            setPhone(phone);\n          }}\n          onClear={() => {\n            setTargetValue('');\n            setPhone('');\n          }}\n        />\n      </Form.Control>\n\n      {/*\n       ** Exibe a diferen\xe7a entre a propriedade `target.value` do primeiro argumento\n       ** e o valor do segundo argumento do callback\n       ** passado para o `onChange`\n       */}\n      <Form.Control>\n        <Input\n          disabled\n          prefix={<Tag>event.target.value</Tag>}\n          value={targetValue}\n        />\n      </Form.Control>\n\n      <Form.Control>\n        <Input disabled prefix={<Tag>phone</Tag>} value={phone} />\n      </Form.Control>\n    </Form>\n  );\n}\n")),(0,t.kt)("h2",{id:"feedback-validation"},"Erros e valida\xe7\xf5es"),(0,t.kt)("p",null,"A propriedade ",(0,t.kt)("inlineCode",{parentName:"p"},"error")," permite exibir o componente com apar\xeancia de inv\xe1lido."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"<Phone error />\n")),(0,t.kt)("h3",{id:"feedback-validation-with-formcontrol"},"Integra\xe7\xe3o com ",(0,t.kt)("inlineCode",{parentName:"h3"},"Form.Control")),(0,t.kt)("p",null,"Assim como em outros componentes de formul\xe1rio, o componente ",(0,t.kt)("inlineCode",{parentName:"p"},"Phone")," est\xe1 integrado com o componente ",(0,t.kt)("inlineCode",{parentName:"p"},"Form.Control")," e recebe a propriedade ",(0,t.kt)("inlineCode",{parentName:"p"},"error")," automaticamente por meio dessa integra\xe7\xe3o."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"<Form.Control error>\n  <Phone />\n</Form.Control>\n")),(0,t.kt)("h3",{id:"feedback-validation-phone-number"},"Validando o n\xfamero de telefone"),(0,t.kt)("p",null,"A valida\xe7\xe3o do n\xfamero digitado pode ser conferida em cada um dos ",(0,t.kt)(i.Z,{href:"#form-events",mdxType:"Link"},"eventos citados anteriormente"),", atrav\xe9s do atributo ",(0,t.kt)("inlineCode",{parentName:"p"},"valid"),", presente no objeto com informa\xe7\xf5es adicionais. Esta informa\xe7\xe3o pode ser usada para validar o n\xfamero do telefone digitado pela pessoa usu\xe1ria."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function ExampleValidationPhoneNumber() {\n  const [phone, setPhone] = useState('');\n  const [error, setError] = useState(false);\n\n  return (\n    <Form.Control error={error}>\n      <Form.Label htmlFor=\"phone\">Phone</Form.Label>\n\n      <Phone\n        id=\"phone\"\n        value={phone}\n        aria-describedby={error && 'phone-feedback'}\n        onChange={(_, phone) => setPhone(phone)}\n        onClear={() => {\n          setPhone('');\n          setError(false);\n        }}\n        onBlur={(_, phone, { valid }) => setError(phone && !valid)}\n      />\n\n      {error && <Form.Feedback id=\"phone-feedback\">Invalid</Form.Feedback>}\n    </Form.Control>\n  );\n}\n")),(0,t.kt)("h2",{id:"react-hook-form"},"React Hook Form"),(0,t.kt)("p",null,"Use o componente ",(0,t.kt)("inlineCode",{parentName:"p"},"Phone")," junto com o ",(0,t.kt)(i.Z,{href:"https://react-hook-form.com/",mdxType:"Link"},"React Hook Form"),". Para isso, instale essa depend\xeancia no projeto."),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add react-hook-form\n")),(0,t.kt)("p",null,"Veja e teste o exemplo completo abaixo:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx"},"function ExampleWithReactHookForm() {\n  const { control, watch } = useForm();\n  const name = 'phone';\n\n  return (\n    <Form.Control>\n      <Controller\n        control={control}\n        name={name}\n        defaultValue={null}\n        render={({ onChange }) => (\n          <Phone\n            id={name}\n            name={name}\n            onClear={() => onChange('')}\n            onChange={(_, phone) => onChange(phone)}\n          />\n        )}\n      />\n\n      <Form.Feedback>{watch(name)}</Form.Feedback>\n    </Form.Control>\n  );\n}\n")),(0,t.kt)("h2",{id:"internationalization"},"Internacionaliza\xe7\xe3o"),(0,t.kt)("p",null,"\xc9 poss\xedvel passar valores customizados para os diferentes textos usados internamente pelo componente. S\xe3o eles:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"countryNames"),": Nomes customizados para os pa\xedses"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"countryCallingCodeLabelText"),": Texto customizado para rotular o c\xf3digo do pa\xeds. Este texto n\xe3o \xe9 exibido, mas \xe9 \xfatil para acessibilidade"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"selectedCountryLabelText"),": Texto customizado para rotular a sele\xe7\xe3o do pa\xeds. Este texto n\xe3o \xe9 exibido, mas \xe9 \xfatil para acessibilidade"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"clearLabelText"),": Texto customizado para rotular o bot\xe3o de limpar. Este texto n\xe3o \xe9 exibido, mas \xe9 \xfatil para acessibilidade"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"unidentifiedCountryTooltip"),": Texto customizado para o ",(0,t.kt)("inlineCode",{parentName:"li"},"Tooltip"),", exibido quando o pa\xeds n\xe3o foi adequadamente identificado (veja a se\xe7\xe3o ",(0,t.kt)(i.Z,{href:"#initially-selected-country",mdxType:"Link"},"Pa\xeds inicialmente selecionado"),")")),(0,t.kt)("admonition",{title:"Aten\xe7\xe3o",type:"warning"},(0,t.kt)("p",{parentName:"admonition"},"Ao mudar o idioma padr\xe3o do componente (ingl\xeas), deve ser definidos novos valores para todas as propriedades citadas acima."),(0,t.kt)("p",{parentName:"admonition"},"Para ajudar neste processo, constantes est\xe3o dispon\xedveis com valores padr\xe3o para estas propriedades em ingl\xeas, portugu\xeas e espanhol. Para mais detalhes acesse nossa aba de ",(0,t.kt)(i.Z,{href:"../../../code/components/phone",mdxType:"Link"},"API do componente"),".")),(0,t.kt)("p",null,"Abaixo um exemplo de uso destas constantes para o Portugu\xeas:"),(0,t.kt)("pre",null,(0,t.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"<Phone\n  countryNames={Phone.translations.ptBR.countryNames}\n  countryCallingCodeLabelText={Phone.translations.ptBR.countryCallingCode}\n  selectedCountryLabelText={Phone.translations.ptBR.selectedCountry}\n  clearLabelText={Phone.translations.ptBR.clear}\n  unidentifiedCountryTooltip={Phone.translations.ptBR.unidentifiedCountry}\n/>\n")),(0,t.kt)("h2",{id:"feedback"},"Feedback"),(0,t.kt)(l.Z,{mdxType:"FeedbackBlock"}))}k.isMDXComponent=!0},88401:(e,o,a)=>{a.d(o,{Z:()=>i});var n=a(25773),t=a(27378),r=a(81884),l=a(59536);function i(e){let{children:o,...a}=e;return t.createElement(l.Z,(0,n.Z)({as:r.Z},a),o)}}}]);